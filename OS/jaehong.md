# Operating System 질문

---

## [1주차] 프로세스

### 1. 프로세스와 스레드의 차이는 무엇인가요 ?

#### ❗️ Process 란 ?
: Process는 컴퓨터에서 연속적으로 실행되고 있는 프로그램을 의미한다. 또한, 프로그램이 각 할당된 Heap 메모리에 적재되어 실행되고 있는 인스턴스를 의미하기도 한다.

특징

서로 완벽한 독립 공간을 가지고 있어, 하나의 Process 종료되어도 다른 Process 에는 영향을 주지 않는다.

하나의 프로그램에 여러 Process를 생성할 수 있다.

프로세스는 병행 실행이 가능하다.
단, 병행 실행하기 위해선 프로세스간의 통신이 필요하다.

독립적으로 실행되기 때문에 동기화를 하지 않아도 된다.

#### ❗️ Thread 란 ?
: Thread는 하나의 Process에 실행되는 여러 흐름의 단위이다.Process내의 별도의 영역에 저장되고 Process와 다르게 Heap 영역이 아닌 Stack 영역에 할당된다.

특징

Thread는 본질적으로 Process에 속해있기 때문에 Thread 간의 자원 공유가 가능하다.

자원을 공유하면서 사용하므로 통신 비용이 절감하고 메모리가 효율적이다.

Process 비해 Context Swithing 비용이 적다.

단, 자원을 공유하기 때문에 공유자원을 관리해줘야 한다.(동기화 작업)
(만약 서로 다른 Thread 가 동시에 공유 자원에 접근하면 교착 상태(Deadlock) 에 빠질 수 있다.)

### 2. 교착상태란 무엇이며, 교착상태가 발생하기 위해서는 어떤 조건이 있어야 하나요 ?
:교착상태(Deadlock)란, 컴퓨터 시스템이나 다중 프로세스 시스템에서 두 개 이상의 프로세스가 자원을 점유한 상태에서 원하는 추가 자원을 얻지 못해 무한히 대기하고 있는 상태를 말합니다. 이 상태에서는 프로세스들이 진행되지 않고 멈춰있기 때문에 시스템의 작업 처리량이 감소하고, 리소스의 효율성이 떨어지게 됩니다.

교착상태가 발생하기 위해서는 다음과 같은 네 가지 필요조건이 동시에 충족되어야 합니다:

- 상호 배제(Mutual Exclusion)
: 한 자원은 한 번에 한 프로세스만이 사용할 수 있어야 합니다. 다른 프로세스가 자원을 요청하면 해당 자원을 사용하고 있는 프로세스는 반납해야 합니다.

- 점유 대기(Hold and Wait)
: 프로세스가 최소한 하나의 자원을 점유한 상태에서 다른 자원을 요청하고, 해당 자원을 얻기 위해 대기하고 있어야 합니다. 이때 프로세스는 이미 점유한 자원을 반납하지 않고 유지합니다.

- 비선점(No Preemption)
: 다른 프로세스에 할당된 자원은 해당 프로세스가 반납하기 전까지는 강제로 빼앗을 수 없어야 합니다. 즉, 프로세스가 자원을 스스로 반납하기 전까지 다른 프로세스는 해당 자원을 사용할 수 없습니다.

- 순환 대기(Circular Wait)
: 프로세스의 집합에서 각 프로세스는 순환적으로 다음 프로세스가 요구하는 자원을 가지고 있어야 합니다. 즉, 각 프로세스는 다음 프로세스가 점유한 자원을 대기하고 있어야 합니다.

이 네 가지 조건이 모두 충족되면 교착상태가 발생할 수 있습니다. 따라서 교착상태를 방지하기 위해서는 이러한 필요조건 중 하나 이상을 제거하거나 조정해야 합니다.

### 3. 교착상태의 해결법은 무엇인가요 ?
- 예방(Prevention)
: 교착상태가 발생하는 필요조건 중 하나 이상을 제거하여 교착상태를 예방하는 방법입니다. 예를 들어, 점유 대기 조건을 방지하기 위해 프로세스가 실행되기 전에 필요한 모든 자원을 한 번에 요청하도록 하는 것이나, 순환 대기 조건을 방지하기 위해 자원에 고유한 번호를 할당하고 번호 순서에 따라 자원을 요청하도록 하는 등의 방법을 사용할 수 있습니다.

- 회피(Avoidance)
: 교착상태의 가능성을 사전에 파악하고 회피하는 방법입니다. 자원 할당 그래프를 통해 시스템의 상태를 모니터링하고, 교착상태의 가능성이 있는 경우에만 자원을 할당하는 방식입니다. 은행원 알고리즘이나 자원 할당 그래프 알고리즘이 회피 방법을 구현한 대표적인 알고리즘입니다.

- 탐지 및 복구(Detection and Recovery)
: 교착상태가 발생하면 그것을 탐지하고, 탐지된 교착상태를 해결하기 위해 복구하는 방법입니다. 탐지 알고리즘을 통해 교착상태를 식별하고, 교착상태가 발생했을 때는 해당 프로세스들 중 하나 이상을 중지하거나 자원을 선점하여 교착상태를 해제합니다.

- 무시(Ignorance)
: 교착상태가 매우 드물게 발생하고, 해결하기 위한 비용이나 시스템 성능 저하가 크지 않을 경우에는 교착상태를 무시하는 방법을 선택하기도 합니다. 이는 일부 시스템에서는 적용 가능하지만, 대부분의 시스템에서는 권장되지 않습니다.

### 4. 뮤텍스와 세마포어에 대해서 설명해 보시오.
: 뮤텍스는 스레드 자체에 공유자원에 대한 소유권을 부여하는 방식, 세마포어는 접근할 수 있는 스레드 수를 제한하는 것. 자세한 차이는 너무 많다..

### 5. 컨텍스트 스위칭이란 무엇인가요 ?
: Context Switching 이란 동시성 처리를 하기위해 하나의 프로세스 또는 스레드에서 빠르게 Context 를 변경하면서 여러가지 일을 처리하는거 처럼 보이게 하는 방식입니다.


### 6.경쟁 상태란 무엇인가요 ?
: 경쟁 상태란 동일한 공유자원에 동시에 2개 이상의 스레드가 접근하는 것을 말합니다. 이렇게 되면 Thread Safe 하지 못하고, 원치 않는 결과가 나올 수 있습니다. 

- 예, 하나의 쓰레드에서 공유자원을 읽고 있다고 가정하고, 동시에 다른 스레드가 값을 변경 시킬 경우 원치않는 결과 값이 나올수 있다.
- Thread Safe ?
: 하나의 함수가 한 스레드로부터 호출되어 실행 중일 때, 다른 스레드가 그 함수를 호출하여 동시에 함께 실행되더라도 각 스레드에서의 함수의 수행 결과가 올바르게 나오는 것입니다. 
해결 방법 : 공유 자원을 최소한으로 줄여 각각의 스레드에서만 접근할 수 있는 저장소를 사용해서 동시접근을 막는 방법이 있을거 같습니다.

### 7. Thread Pool 이란 ?
:: ThreadPool 이란 필요한 Thread의 개수를 미리 지정해서 사용하는 것으로 알고 있습니다. 만약에 스레드를 한개만 생성 했을 경우 새로운 스레드가 필요한 때 생성하고 필요하지 않을 때 제거해야해서 비용이 많이 듭니다. 하지만 스레드의 갯수를 미리 지정함으로써 생성 제거 비용을 없애기 위해 만들어 진것으로 알고 있습니다 .

### 8. N개의 CPU 코어가 있을 때, ThreadPool size를 어떻게 정하면 좋을지 자유롭게 설명해 주세요.
: 일반적으로 N개의 CPU 코어가 있을 때 ThreadPool의 사이즈도 N개로 지정하는 것이 가장 효율적으로 알고 있습니다. 하지만 실행시간이나 대기 시간이 긴 작업들이 많을 경우에는 작업이 계속해서 대기해야하기 때문에 N개보다 크게 잡는 것이 좋은거 같습니다.

---

## [2주차] 프로세스

### 프로세스 혹은 스레드의 동기화란 무엇인가요?
: 프로세스나 스레드의 동기화는 병행 실행되는 여러 개의 프로세스 또는 스레드 간에 데이터나 자원에 대한 접근을 조절하여 일관성과 안전성을 보장하는 메커니즘입니다. 동기화는 동시에 실행되는 여러 개의 프로세스나 스레드가 공유하는 데이터에 접근할 때 발생하는 문제를 해결하고, 데이터의 무결성을 유지하기 위해 사용됩니다.

방법 - 뮤텍스, 세마포어, synchronized



### 사용자 수준의 스레드와 커널 수준의 스레드의 차이는 무엇인가요?
: 가장 큰 차이점은 운영체제의 사용 유무 라고 할 수 있는데요. 사용자 수준의 스레드에 경우 운체제를 인식하지 못해 스레드에 대한 스케줄링과 관련된 결정을 응용 프로그램 내에서 수행해야하고  커널 수준의 스레드에 경우는 운영체제에서 제공하는 스레드 관련 기능을 사용할 수 있어 효과적인 스케줄링을 할 수 있습니다.

#### 동기화 오버헤드 ?
: 사용자 수준은 커널에 비해 상대적을 작다.
그래서 커널 수준의 스레드에서 시스템 호출이 자주 발생할 경우 성능 저하가 발생할 수 있습니다.

#### 블로킹
:  사용자 수준 스레드의 경우 전체 응용프로그램이 영향을 받을 수 있지만, 커널 수중의 스레드의 경우에는 운영체제에서 스케줄링을 관리하기 때문에 다른 스레드는 계속해서 실행됩니다. 

#### 멀티 코어 ? 
: 커널 스레드는 운영체제에서 스케줄링을 관리하기 떄문에 멀티코어 시스템에서 병렬 실행을 효과적으로 수행할 수 있는 반면, 사용자 수준의 스레드의 경우에는 직접 스케줄링을 구현해야하기 때문에 멀티코어 시스템에서 병렬 실행이 이루어지지 않을 수 있습니다.

#### 사용자 수준의 스레드에서 멀티코어 시스템에서 병렬처리하기 위한 방법은 ?
- 멀티스레딩
: 응용 프로그램 내에 여러개의 스레드를 만들어서 각각의 스레드에 다른 코어를 할당하는 방식

- 스레드 풀
: 스레드의 개수를 미리 고정해서 스레드 생성 비용과 제거 비용을 줄이는 방식


### CPU 스케줄링이란 무엇인가요?
: CPU 스케줄링은 운영체제가 여러 개의 프로세스 또는 스레드 중에서 CPU 자원을 할당하는 방법을 결정하는 것을 말합니다. 여러 개의 실행 가능한 프로세스나 스레드가 동시에 존재하면, CPU 스케줄러는 어떤 프로세스 또는 스레드가 CPU를 사용할 수 있는지, 얼마나 오랫동안 사용할 수 있는지, 어떤 순서로 실행할지 등을 결정합니다.


### CPU 스케줄링 방법에는 대표적으로 어떤 것들이 있나요?
- FCFS (First-Come, First-Served):
가장 간단한 스케줄링 알고리즘으로, 도착한 순서대로 프로세스를 실행하는 방식입니다. 먼저 도착한 프로세스가 CPU를 먼저 할당받으며, 실행이 완료될 때까지 계속 실행됩니다. 선입선출 방식으로 공정한 스케줄링을 제공하지만, 실행 시간이 긴 프로세스가 먼저 도착하면 평균 응답 시간이 길어질 수 있습니다.

- SJF (Shortest Job First):
실행 시간이 가장 짧은 프로세스에게 CPU를 할당하는 방식입니다. 실행 시간이 짧은 작업을 먼저 처리하여 평균 응답 시간을 최소화합니다. 하지만 프로세스의 실행 시간을 미리 알 수 없기 때문에 정확한 예측이 어렵고, 실행 시간을 추정해야하는 단점이 있습니다.

- Round Robin:
고정된 시간 슬라이스(Time Slice)를 정의하고, 각 프로세스는 할당된 시간 동안 CPU를 사용합니다. 할당된 시간이 지나면 다른 프로세스에게 CPU를 양도하고, 다음 순서에 다시 할당됩니다. 모든 프로세스는 동일한 시간을 가지고 CPU를 사용하므로 공정한 스케줄링을 제공합니다. 하지만 긴 작업이 짧은 작업을 기다려야하는 '문제'가 발생할 수 있습니다.

- Priority Scheduling:
각 프로세스에 우선순위를 부여하고, 우선순위가 높은 프로세스에게 CPU를 할당하는 방식입니다. 정적 우선순위와 동적 우선순위 방식이 있으며, 실행 우선순위를 조절하여 특정 작업의 우선 처리를 보장할 수 있습니다. 그러나 우선순위 역전과 같은 문제가 발생할 수 있으므로 적절한 우선순위 관리가 필요합니다.

### 동기와 비동기, 블로킹과 넌블로킹의 차이는 무엇인가요?

먼저, 동기와 비동기는 작업의 완료를 기다리는 방식을 나타내고, 블로킹과 넌블로킹은 호출한 쪽이 작업의 완료를 기다리는 동안 다른 작업을 수행할 수 있는지 여부를 나타냅니다.

동기(Synchronous):
동기적인 작업은 호출된 함수 또는 작업이 완료될 때까지 대기하는 방식입니다. 

비동기(Asynchronous):
비동기적인 작업은 호출된 함수 또는 작업을 호출한 후에도 다른 작업을 수행할 수 있는 방식입니다.

블로킹(Blocking):
블로킹은 함수 또는 작업이 호출된 후에 반환될 때까지 호출한 쪽이 대기하는 것을 말합니다. 호출된 함수가 완료되기 전까지는 호출한 쪽이 일시 정지되어 다른 작업을 수행할 수 없습니다.

넌블로킹(Non-blocking):
넌블로킹은 함수 또는 작업이 호출된 후에도 호출한 쪽이 대기하지 않고 즉시 반환되는 것을 말합니다. 호출한 쪽은 작업이 완료될 때까지 대기하지 않고 다른 작업을 수행할 수 있습니다. 작업이 완료되었는지 여부는 호출한 쪽에서 확인하거나, 콜백 또는 이벤트 핸들러를 통해 알 수 있습니다.

---

## [3주차] 메모리

- 프로세스에 할당되는 메모리의 각 영역에 대해서 설명해 주세요.
- 메모리 구조의 순서가 어떻게 되는가? CPU에서 가까운 순으로 말해보시오.
- 페이지와 세그멘테이션에 대해서 설명해 보시오.
- 외부 단편화란? 내부 단편화란?
- First Fit, Best Fit, Worst Fit에 대해서 설명해 보시오.
- 페이지 교체 알고리즘 종류에는 어떤 것들이 있나요?


